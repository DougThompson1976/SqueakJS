Object subclass: #JS	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'JSBridge'!!JS commentStamp: 'bf 11/20/2014 12:00' prior: 0!JS alert: 'Squeak says Hello World!!'.JS console log: 'Squeak says Hello World!!'.((JS document getElementsByTagName: 'h1') at: 0)	at: 'innerHTML' put: 'Squeak said Hello World at ', Time now asString.JS Object keys: JS navigator.| cls obj |cls := JS Object.obj := cls new.obj at: #someProp put: 42.obj someProp!Object subclass: #JSObjectProxy	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'JSBridge'!!JSObjectProxy commentStamp: 'bf 11/20/2014 12:00' prior: 0!See the JS facade.!!JSObjectProxy methodsFor: 'initialization' stamp: 'bf 11/20/2014 00:38'!beInstanceOf: jsObjectOrGlobalName	"Initialize me to a new instance"	<primitive: 117>	#(JavaScriptPlugin primitiveCreateInstance 0 0).	^ self primitiveFailed!beGlobal: pathName	"Initialize me to an existing global"	<primitive: 117>	#(JavaScriptPlugin primitiveLookupGlobal 0 0).	^ self primitiveFailed! !!JSObjectProxy methodsFor: 'accessing' stamp: 'bf 11/20/2014 00:38'!at: aString	"get a property"	<primitive: 117>	#(JavaScriptPlugin primitiveAt 0 0).	^ self primitiveFailed!at: aString put: anObject	"set a property"	<primitive: 117>	#(JavaScriptPlugin primitiveAtPut 0 0).	^ self primitiveFailed!doesNotUnderstand: aMessage	"Call a function, or get/set a property"	<primitive: 117>	#(JavaScriptPlugin primitiveCall 0 0).	^ self primitiveFailed!printOn: aStream	aStream nextPutAll: self printString!printString	"Convert me to a string"	<primitive: 117>	#(JavaScriptPlugin primitivePrintString 0 0).	^ self primitiveFailed!typeof	"Answer my jsObject's type (a string)"	<primitive: 117>	#(JavaScriptPlugin primitiveTypeof 0 0).	^ self primitiveFailed!new	"Create an instance of me"	^JSObjectProxy basicNew beInstanceOf: self! !!JSObjectProxy class methodsFor: 'instance creation' stamp: 'bf 11/20/2014 00:38'!new	self error: 'Use "JS Object new" to create a new JavaScript object'.! !!JS class methodsFor: 'instance creation' stamp: 'bf 11/20/2014 01:02'!doesNotUnderstand: aMessage	"answer global named like message selector, or call global function"	aMessage arguments size > 0		ifTrue: [^(self at: 'window') doesNotUnderstand: aMessage].	^self at: aMessage selector!new: jsObjectOrGlobalName	"create instance of jsObject or named global"	^JSObjectProxy basicNew beInstanceOf: jsObjectOrGlobalName!at: pathName	"lookup global (e.g. 'Squeak.vmVersion')"	^JSObjectProxy basicNew beGlobal: pathName! !